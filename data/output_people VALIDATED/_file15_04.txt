798
АЛГОРИТМЫ ВИЗУАЛИЗАЦИИ ДИНАМИЧЕСКИХ ГРАФОВ ДЛЯ АНАЛИЗА СЛОЖНЫХ СЕТЕЙ
2 Алгоритмы визуализации динамических графов 
2.2 Силовая модель 
----------
Алгоритмы, принадлежащие к классу силовых, считают наиболее гибкими для размещения вершин общих неориентированных графов. Как правило, такие алгоритмы используют только информацию, которая содержится в структуре самого графа, не предполагая, что пригодятся дополнительная информация. Такие графы удовлетворяют критериям эстетичности, т.е симметричны, а также, очень часто, не имеют пересечений ребер для изображения планарных графов.
Традиционный силовой алгоритм визуализации графов разработал и опубликовал Питер Идс (Peter Eades) в 1984 году. В этом алгоритме граф представляется в виде физической системы, в которой вершины графа соответствуют заряженным частицам, а ребра – пружины между ними, и действуют, как силы притяжения, так и отталкивания.
Рисунок 3 - Граф как физическая модель [2]
На рисунках изображена физическая модель графа. Видно, что вершины стремятся принять исходной положение, соответственно на смежные вершины, расположенные друг от друга дальше, чем заданная идеальная длина ребра, действует сила притяжения. Например, на вершину с индексом 0 действуют три силы со стороны остальных вершин. Силы со стороны вершин с индексами 1 и 2 складываются из силы, действующей на вершину со стороны пружины, и электрическую силу, действующую на вершины как на одноименно заряженные электрические заряды, а со стороны вершины с индексом 3 действует лишь электрическая сила, поскольку вершины 0 и 3 не связаны ребром. В данной модели силы, действующие на вершины со стороны пружин, как притягивают, так и отталкивают вершины друг от друга, стремясь достичь оптимальной длины ребра. Электрические силы добавлены, чтобы избежать наложения несмежных вершин. Основным минусом данного алгоритма является ограничение на размер визуализируемого графа (до 150 вершин).
Как и представлено выше, силовая модель состоит из вершин, которые представляют собой заряженные частицы, между которыми действуют две силы: притяжения и отталкивания. Силы отталкивания действуют между всеми парами вершин и обратно пропорциональны расстоянию между вершинами, они разъединяют близко находящиеся вершины, т.е в хорошей укладке “слипшихся” вершин не обнаружится. В свою очередь, силы притяжения действуют между вершинами, которые соединены ребром, в конечной укладке такие вершины будут находиться рядом. В общем виде энергию системы можно выразить следующим образом:
Первое слагаемое – энергия притяжения, второе – энергия отталкивания между вершинами. Показатели степени a, rR и коэффициенты ,R определяют степень влияния каждого компонента на итоговую укладку. Общепринятыми ограничениями являются:  , a ≥ 0, r ≤ 0, т.е силы притяжения растут, а отталкивания убывают с увеличением расстояния.
Основная задача данных алгоритмов – это расположение узлов (это может быть 2D или 3D пространства) так, чтобы все ребра были примерно одинаковой длины, и как можно меньше пересекающихся ребер. Как только силы на узлах и ребрах определены, поведение всего графа можно моделировать так, как если бы это была физическая система. Силы, действующие на узлы, либо сближают их, либо отдаляют. Эти действия длятся до тех пор, пока система не придет в состояние механического равновесия, т.е позиции вершин и ребер становятся неизменными. Как раз в таком равновесии используют позиции узла для изображения графа.
В задаче динамической визуализации графов необходимо обеспечить схожесть укладок графов. Под словом «схожесть» понимается приближенное сохранение позиций вершин с одинаковыми метками в разных графах. Для этого мы строим новый граф, являющийся объединением всех других графов последовательности с добавлением новых ребер: каждая пара вершин с одинаковыми метками соединяется ребром. В итоге получим граф-объединение: = (), где  = и = U{(u,v)⊆=}. Вспомогательные ребра между различными графами будут обеспечивать силы притяжения между вершинами с одинаковыми метками и исходные объекты будут стремиться занять одинаковые позиции во всех слоях итоговой послойной укладки, что соответствует сохранению ментальной карты. Дополнительная составляющая энергии для работы с динамическими графами выражается так:
Одной из составляющих данного алгоритма является минимизация энергии. Общая энергия системы для последовательности графов выглядит следующим образом:
Или другими словами – можно рассмотреть, как функцию n*d, где n-это вершины, а и d - координаты. Для того, чтобы найти минимум, необходимо применить метод градиентного спуска. Первоначально каждой вершине присваиваются случайные координаты. На каждой итерации алгоритма предполагаем, что все вершины фиксированы, кроме одной. Будем сдвигать эту вершину в направлении антиградиента так, чтобы максимально уменьшить энергию системы. Данный шаг применяется для всех вершин в графе. Завершение работы алгоритма произойдет тогда, когда энергия достигнет своего локального минимума. Но т.к  в этой курсовой работе рассматривается только визуализация графов (без послойной визуализации), то результатов построения таких укладок не будет.
Изображения графов, полученные при помощи силовых алгоритмов, как правило, удовлетворяют критерию эстетичности, характеризуются симметричностью, а также, с большой вероятностью, не имеют пересечений ребер для изображений планарных графов, что позволяет сделать вывод о соответствии генерируемых изображений определенным ранее критериям.  Этот алгоритм, минимизируя энергию системы, сдвигает вершины в направлении действующей на них силы. Положение вершин, в котором энергия системы минимальна, является искомым размещением. Алгоритм направлен на то, чтобы обеспечить расположение смежных вершин на достаточно близком расстоянии. Данный алгоритм находит симметричное расположение (насколько это возможно при равной длине ребра). В этой модели силы, действующие на вершины со стороны пружин, как притягивают, так и отталкивают вершины друг от друга, стремясь достичь оптимальной длины ребра. Т.о в «силовом» методе граф рассматривается как система пружин - ребер и шарниров с вершинами – одноименными электрическими зарядами, между которыми действуют силы отталкивания.