231
РАСПРЕДЕЛЕННАЯ ANDROID-СИСТЕМА «АССИСТЕНТ ПРЕПОДАВАТЕЛЯ» 
3 Программная реализация приложения КубГУ Assistent 
3.8 Алгоритм составления уникального логина для большого количества одновременно регистрируемых пользователей 
----------
В настоящий момент для перевода фамилии на английский существует ГОСТ Р52535.1-2006, применяемый для загранпаспортов (приказ ФМС России от 3 февраля 2010 г. N26), именно на его основе и был реализован данный алгоритм.
Самой сложной частью реализации алгоритма является правильный перевод некоторых букв в фамилии: “Е”, “Ё”, “Ь”, “Ъ” и дифтонгов (сочетание гласной буквы и “Й”).
Так же при реализации были соблюдены следующие, немаловажные правила перевода:
* если буквы "E" и "Ё" стоят в начале слова, то они преобразуются как "YE";
* если буквы "E" и "Ё" стоят после гласных и знаков "Ъ" и "Ь", то транслитерируются как "YE";
* вместо окончаний "ИЙ" и "ЫЙ" ставится только одна буква "Y".
Чтобы учесть эти правила, были созданы три дополнительных массива одинаковой длинны, два из которых описывают комбинации букв "E" и "Ё" с гласными и знаками "Ъ"/"Ь", а также окончания "ИЙ"/"ЫЙ". Третий массив содержит комбинацию этих же букв со знаками "$" для первого правила и символ "@" для второго. Эти символы добавляются в слово как временные, они показывают, что тут нужно применить одно из правил. Затем через функцию str_replace замещаются найденные комбинации в слове из первого и второго массива, на комбинации из третьего. Т.е. если встречается в слове комбинация, например, "ae" из первого массива, то она заменяется на "а$" из
третьего, и так далее. А дальше срабатывает обычная функция преобразования символов strtr() из массива, в которой дополнительно прописаны правила для символов "@"=>"y" и "$"=>"ye".