686
МОДЕЛИРОВАНИЕ И ВИЗУАЛИЗАЦИЯ РАЗЛИЧНЫХ СТРАТЕГИЙ SLAM С ПОМОЩЬЮ LIDAR В ПОМЕЩЕНИЯХ ДЛЯ МОБИЛЬНЫХ РОБОТОВ 
1 Обзор предметной области 
1.4 Задача SLAM 
1.4.1 Фильтр Калмана 
----------
Фильтр Калмана базируется на дискретных по времени линейных динамических системах [6]. Движение автономных роботов плохо аппроксимируется линейным движением поэтому фильтры Калмана не получили широкого распространения в реализациях задачи SLAM. Но в то же время можно применять для вычисления положения неподвижных пространственных ориентиров, так как они удовлетворяют свойству линейности.
При использовании фильтра Калмана для получения оценок вектора состояния процесса по серии зашумленных измерений необходимо представить модель данного процесса в соответствии со структурой фильтра – в виде матричного уравнения определенного типа. Для каждого такта k работы фильтра необходимо в соответствии с приведенным ниже описанием определить матрицы: эволюции процесса , матрицу наблюдений , ковариационную матрицу процесса , ковариационную матрицу шума измерений , при наличии управляющих воздействий – матрицу их коэффициентов .
Модель системы подразумевает, что истинное состояние в момент k получается из истинного состояния в момент k-1 в соответствии с уравнением
, 	(1)
где  	– 	матрица 	эволюции 	процесса, 	которая 	воздействует
на вектор ;
– матрица управления, которая прикладывается к вектору управляющих воздействий ;
– нормальный случайный процесс с нулевым математическим ожиданием и ковариационной матрицей , который описывает случайный характер эволюции системы, .
В момент k производится измерение  истинного вектора состояния
, которые связаны между собой уравнением
, 	(2)
где  – матрица измерений, связывающая истинный вектор состояния
и вектор произведенных измерений;
– белый гауссовский шум измерений с нулевым математическим ожиданием и ковариационной матрицей , .
Начальное состояние и векторы случайных процессов на каждом такте  считаются независимыми.
Многие реальные динамические системы нельзя точно описать данной моделью. На практике не учтенная в модели динамика может серьезно испортить рабочие характеристики фильтра, особенно при работе с неизвестным стохастическим сигналом на входе. Более того, неучтенная в модели динамика может сделать фильтр неустойчивым. С другой стороны, независимый белый шум в качестве сигнала не будет приводить к расхождению алгоритма. Задача отделения шумов измерений от неучтенной в модели динамики сложна, решается она с помощью теории робастных систем управления.
Для вычисления оценки состояния системы на текущий такт работы ему необходима оценка состояния на предыдущем такте работы и измерения на текущем такте. Данное свойство отличает его от пакетных фильтров, требующих в текущий такт работы знание истории измерений или оценок.
Далее под записью  будем понимать оценку истинного вектора  в момент n с учетом измерений с момента начала работы и по момент m включительно.
Состояние фильтра задается двумя переменными:
*  – апостериорная оценка состояния объекта в момент k
полученная по результатам наблюдений вплоть до момента k включительно;
*  – апостериорная ковариационная матрица ошибок, задающая оценку точности полученной оценки вектора состояния и включающая в себя оценку дисперсий погрешности вычисленного состояния и ковариации, показывающие выявленные взаимосвязи между параметрами состояния системы.
Итерации фильтра Калмана делятся на две фазы: экстраполяция и коррекция. Во время экстраполяции фильтр получает предварительную оценку состояния системы  на текущий шаг, по итоговой оценке, состояния с предыдущего шага. Эту предварительную оценку также называют априорной оценкой состояния, так как для еѐ получения не используются наблюдения соответствующего шага. В фазе коррекции априорная экстраполяция дополняется соответствующими текущими измерениями для коррекции оценки. Скорректированная оценка называется апостериорной оценкой состояния, либо просто оценкой вектора состояния
. Обычно эти две фазы чередуются: экстраполяция производится по результатам коррекции до следующего наблюдения, а коррекция производится совместно с доступными на следующем шаге наблюдениями, и т. д. Однако возможно и другое развитие событий, если по некоторой причине наблюдение оказалось недоступным, то этап коррекции может быть пропущен и выполнена экстраполяция по нескорректированной оценке. Аналогично, если независимые измерения доступны только в отдельные такты работы, всѐ равно возможны коррекции.
Далее рассмотрим работу классического оптимального фильтра Калмана.
Этап экстраполяции
Экстраполяция вектора состояние системы по оценке вектора состояния и примененному вектору управления с шага k-1 на шаг k
. 	(3)
Ковариационная матрица для экстраполированного вектора состояния
. 	(4)
Этап коррекции
Отклонение полученного на шаге k наблюдения от наблюдения, ожидаемого при произведенной экстраполяции
. 	(5) Ковариационная матрица для вектора отклонения
. 	(6)
Оптимальная по Калману матрица коэффициентов усиления, формирующаяся на основании ковариационных матриц, имеющейся экстраполяции вектора состояния и полученных измерений
. 	(7)
Коррекция ранее полученной экстраполяции вектора состояния – получение оценки вектора состояния системы
. 	(8)
Расчет ковариационной матрицы оценки вектора состояния системы
. 	(9)
Выражение для ковариационной матрицы оценки вектора состояния системы справедливо только при использовании приведенного оптимального вектора коэффициентов. В общем случае это выражение имеет более сложный вид.