135
ANDROID-ПРИЛОЖЕНИЕ ДЛЯ ВОСПРОИЗВЕДЕНИЯ ЗВУКА
3 Разработка программы . 
3.2 AudioManager и аудиофокус . . 
----------
Аудиофокус [5] позволяет задавать аудиопотокам приоритет и, в зависимости от этого приоритета, управлять громкостью или же вообще останавливать воспроизведение определенных звуков.
Фокус запрашивается с помощью метода requestAudioFocus. Типы фокусов:
* AUDIOFOCUS_GAIN – долгое воспроизведение звука. Приложение должно остановить воспроизведение.
* AUDIOFOCUS_GAIN_TRANSIENT – среднее по длине воспроизведение. Приложение должно приостановить не на долго свое воспроизведение.
* AUDIOFOCUS_GAIN_TRANSIENT_MAY_DUCK – короткое воспроизведение звука. Приложение может не останавливать воспроизведение, достаточно будет уменьшить громкость.
В данном приложении аудиофокус может быть реализован примерно таким образом: потоку аудиокниги выдается высокий приоритет, если во время воспроизведения приходит оповещение от другого приложения, то приоритет плеера понижается относительно приоритета оповещения. Программа это видит и останавливает воспроизведение до тех пор, пока снова не получит приоритет. Уменьшение громкости воспроизведения во время коротких оповещений не подходит для данной задачи, так как пользователь может не расслышать слова из книги.