453
МОДЕЛИРОВАНИЕ И ВИЗУАЛИЗАЦИЯ РАЗЛИЧНЫХ СТРАТЕГИЙ SLAM С ПОМОЩЬЮ LIDAR В ПОМЕЩЕНИЯХ ДЛЯ МОБИЛЬНЫХ РОБОТОВ 
3 Реализованный метод 
3.2 Реализация 
3.2.6 Самолокализация 
----------
Для того чтобы можно было локализовать робота, то есть узнать координаты его положения в среде, необходимо заранее подготовить окружающую среду. С помощью LIDAR необходимо просканировать все окружающую среду, к полученному массиву дистанций, нужно применить автокорреляционную функцию. Автокорреляционная функция – зависимость взаимосвязи между функцией и ее сдвинутой копией от величины временного сдвига. Для детерминированных сигналов автокорреляционная функция сигнала  определяется интегралом
, 	 (14)
где  – величина на которую смещена функция относительна самой себя.
Другими словами, после применения автокорреляционной функции к списку дистанций, полученных от LIDAR, вне зависимости от того на сколько повернут робот в окружающей среде, показания будут одинаковыми, таким образом это облегчает его поиск в пространстве.
Реализация метода позволяющий преобразовать полученный список дистанций к автокорреляционной функции:
static public List<int> acf(List<int> arr){             List<int> arrtmp = new List<int>(arr);             List<int> tmp = new List<int>();             int s = 0;             for (int i = 0; i <= arrtmp.Count(); i++){                 for (int j = 0; j < arr.Count(); j++){                     s += arr[j] * arrtmp[j];}                 tmp.Add(s);                 s = 0;                 arrayShiftRight(arrtmp); }             return tmp;}
Где arr – набор точек к которому необходимо применить фильтр, для того чтобы получить автокорреляционную функцию необходимо найти сумму произведения сначала не сдвинутых, а затем сдвигать массив на один элемент циклически.
При сканировании всей среды не обязательно хранить список дистанций для каждой позиции. Достаточно вычислить максимальную дистанцию, минимальную дистанцию, и разность индексов максимальной и минимальной длинны. Так как процесс сканирования всей области долгий процесс, то в случае неизменности среды, данные записываются в текстовые файлы, так как для последующего запуска это ускорит работу. Так как анализ каждой точки долгий процесс и занимает большое количество памяти, то сканируется не каждый пиксель, а через 1, то есть, если среда размером 400x400, то необходимо произвести 160000 вычислений, а также поиск в этом текущей позиции, поэтому в случае среды 400x400 если сканировать через один пиксель, то необходимо произвести 40000 вычислений, что конечно влияет на точность обнаружения позиции робота, но это оправдывает, время обработки, и количество хранимых данных.
Для того, чтобы уменьшить погрешность при измерении положения робота, можно применять различные методы SLAM, что позволит более точно координировать робота, но при этом затраты увеличатся. В рамках данной работы различные метода не были применены. Так как среда в которой это использовалось, не требовала этого, и данные о местоположении робота, были вычислены с допустимой ошибкой, но в случае применения данного метода на практике следует использовать это, так как в условиях реальной среды, появляются различные негативные факторы, которые будут приводить к более большим ошибкам, что не позволит достаточно точно измерить позиции робота в данный момент его времени, а также с накоплением ошибки в различные этапы, будут приводить к более грубой ошибке.
Пример определения местоположения показан на рисунке 17.
Рисунок 17 – Пример самолокализации
На рисунке выделены координаты робота, и их изменение в зависимости от того как он двигается.