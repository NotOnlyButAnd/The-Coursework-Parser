104
АДАПТИВНАЯ ВИЗУАЛИЗАЦИЯ НЕСТРУКТУРИРОВАННЫХ ГЕОКОДИРОВАННЫХ ДАННЫХ
3 Методы взаимодействия с информационной системой . 
3.4 Фильтрация результатов выборки данных 
----------
Составим строку поиска из запросов, разделённых знаками “+”:
search_string <- paste0(c("XXXXX","#XXXXX"),collapse = "+")
Если поиск ведётся на русском языке, это желательно указывать в параметре lang
tweets <- searchTwitter (search_string, n=15000, lang="ru")
иначе есть риск получить в результатах постороннюю “нелатиницу”.
Объект tweets относится к классу status и имеет множество методов get*(), возвращающих ту или иную часть твита, так функция getText() возвращает текст
text <- sapply(tweets, function(x) x$getText()).
Отфильтруем из полученных твитов те, что содержат геоданные о расположении их авторов (непустые значения долготы или широты!) и сохраним тексты твитов, имена и расположение авторов, а также время создания твита в таблице df:
Рисунок 3  – Фильтрация геоданных