134
ОПТИМИЗАЦИЯ ИСПОЛЬЗОВАНИЯ МОБИЛЬНОГО ТРАФИКА В ОС ANDROID
3 Разработка программы 
----------
Плеер для воспроизведения реализован с помощью класса MediaPlayer [1]. Это стандартный класс Android, имеющий минимальный функционал, но достаточно удобный в реализации. Класс работает на основе состояний, которые управляются с помощью внутреннего конечного автомата – машины состояний. Состояния у класса такие:
* бездействие – объект создан, но воспроизведение пока невозможно;
* инициализация – инициализация источника получения данных;
* подготовка - получение данных для воспроизведения из источника, буферизация и декодирование;
* запущен – начало воспроизведения;
* воспроизведение – процесс воспроизведения;
* приостановлен – воспроизведение поставлено на паузу;
* остановлен – воспроизведение остановлено;
* ошибка – ошибка воспроизведения;
* конец – воспроизведение прекращено.
В результате реализации у плеера имеются кнопки перемотки воспроизведения на 10 секунд и кнопка паузы. Аудиофайлы воспроизводятся и загружаются с сервера «screencast».
На рисунке 1 показан скриншот плеера программы.
Рисунок 1 – Плеер программы